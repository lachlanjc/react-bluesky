# API Reference

This is the reference for the utility functions that `bsky-react-post` provides for [building your own post components](/custom-theme) or simply fetching a post. Navigate to the docs for the [Bluesky theme](/bluesky-theme) if you want to render the existing Post components instead.

## `fetchTweet`

```tsx
function fetchTweet(
  id: string,
  fetchOptions?: RequestInit
): Promise<{
  data?: Tweet | undefined;
  tombstone?: true | undefined;
  notFound?: true | undefined;
}>;
```

Fetches and returns a [`Post`](https://github.com/vercel-labs/react-tweet/blob/main/packages/react-tweet/src/api/types/tweet.ts) just like [`getTweet`](#gettweet), but it also returns additional information about the tweet:

- **data** - `Post` (Optional): The post data.
- **tombstone** - `true` (Optional): Indicates if the post has been made private.
- **notFound** - `true` (Optional): Indicates if the post was not found.

## `useTweet`

> If your app supports React Server Components, use [`getTweet`](#gettweet) instead.

```tsx
import { useTweet } from "react-tweet";

const useTweet: (
  id?: string,
  apiUrl?: string,
  fetchOptions?: RequestInit
) => {
  isLoading: boolean;
  data: post | null | undefined;
  error: any;
};
```

SWR hook for fetching a post in the browser. It accepts the following parameters:

- **id** - `string`: the post ID. For example in `https://twitter.com/chibicode/status/1629307668568633344` the post ID is `1629307668568633344`. This parameter is not used if `apiUrl` is provided.
- **apiUrl** - `string`: the API URL to fetch the post from. Defaults to `https://react-tweet.vercel.app/api/tweet/:id`.
- **fetchOptions** - `RequestInit` (Optional): options to pass to [`fetch`](https://developer.mozilla.org/en-US/docs/Web/API/fetch). Try to pass down a reference to the same object to avoid unnecessary re-renders.

We highly recommend adding your own API endpoint in `apiUrl` for production:

```ts
const post = useTweet(null, id && `/api/tweet/${id}`);
```

It's likely you'll never use this hook directly, and `apiUrl` is passed as a prop to a component instead:

```tsx
<Post apiUrl={id && `/api/tweet/${id}`} />
```

Or if the post component already knows about the endpoint it needs to use, you can use `id` instead:

```tsx
<Post id={id} />
```
